<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <title>Ø£Ù„Ø¹Ø§Ø¨ - ğ–¤|ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ | Ù„Ø¹Ø¨Ø© ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª</title>
  <style>
    :root{
      --bg:#0b0f12;
      --panel:#11161b;
      --accent:#e11d48;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --good:#10b981;
      --grid:#161b22;
      --card:#0e1217;
      --border:#222b36;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, "Noto Naskh Arabic", Arial, sans-serif;
      background: radial-gradient(1200px 600px at 70% -10%, #1f2430 0%, #0b0f12 50%, #06080b 100%);
      color:var(--text);
    }
    header{
      padding:18px 14px;
      text-align:center;
      border-bottom:1px solid #1f2937;
      background:linear-gradient(180deg, rgba(225,29,72,.12), rgba(225,29,72,0));
      position:sticky; top:0; z-index:10;
      backdrop-filter:saturate(1.2) blur(6px);
    }
    header h1{
      margin:0 0 6px;
      font-size:20px;
      letter-spacing:.2px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    header p{
      margin:0;
      color:var(--muted);
      font-size:13px;
    }
    .container{
      max-width:980px;
      margin:14px auto 24px;
      padding:0 12px;
    }
    .toolbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom:10px;
    }
    .toolbar button{
      background:var(--accent);
      color:#fff;
      border:none;
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 6px 16px rgba(225,29,72,.25);
      font-size:14px;
    }
    .toolbar button.secondary{
      background:#222b36;
      color:var(--text);
      box-shadow:none;
      border:1px solid #293241;
      font-weight:600;
    }
    .toolbar .note{
      color:var(--muted);
      font-size:12px;
      margin-inline-start:auto;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:6px;
      background:var(--grid);
      padding:10px;
      border-radius:16px;
      border:1px solid #1f2937;
    }
    .cell{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      padding:8px 6px;
      text-align:center;
      font-size:14px;
      cursor:pointer;
      user-select:none;
      transition:transform .08s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
      color:#dbe2ea;
      min-height:38px;
      display:flex; align-items:center; justify-content:center;
    }
    .cell:hover{
      transform:translateY(-1px);
      border-color:#334155;
      background:#121720;
      box-shadow:0 4px 12px rgba(0,0,0,.25);
    }
    .cell .emoji{font-size:18px; line-height:1.2}
    .panel{
      margin-top:12px;
      background:var(--panel);
      border:1px solid #1f2937;
      border-radius:16px;
      overflow:hidden;
    }
    .panel header{
      background:#121820;
      border-bottom:1px solid #1f2937;
      text-align:start;
      padding:12px 14px;
    }
    .panel header h2{
      margin:0;
      font-size:16px;
    }
    .content{
      padding:12px;
    }
    .letters{
      background:#0d1319;
      border:1px dashed #334155;
      border-radius:12px;
      padding:10px 12px;
      margin-bottom:12px;
      font-size:15px;
    }
    .letters b{color:#cbd5e1}
    .list{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:10px;
    }
    .item{
      background:#0e141b;
      border:1px solid #223042;
      border-radius:12px;
      padding:10px;
    }
    .item h3{
      margin:0 0 6px;
      font-size:14px;
      color:#cbd5e1;
    }
    .answers{color:#e2e8f0; font-size:14px}
    .actions{
      display:flex;
      gap:8px;
      padding:10px 12px;
      border-top:1px solid #1f2937;
      background:#11161b;
    }
    .actions button{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid #293241;
      background:#222b36;
      color:var(--text);
      cursor:pointer;
      font-size:14px;
    }
    .actions button.copy{
      background:var(--accent);
      color:#fff;
      border:none;
      box-shadow:0 6px 16px rgba(225,29,72,.25);
      font-weight:700;
    }
    .footer-note{
      color:var(--muted);
      font-size:12px;
      padding:10px 12px;
      border-top:1px dashed #24303f;
      background:#0f1318;
    }
    .hidden{display:none}
    .brand{display:inline-flex; align-items:center; gap:8px; font-weight:800; color:#fff}
    .brand .blade{color:var(--accent); font-size:20px}
    @media (max-width:900px){
      .grid{grid-template-columns: repeat(8, 1fr);}
      .list{grid-template-columns: 1fr;}
      header h1{font-size:18px}
    }
    @media (max-width:600px){
      .grid{grid-template-columns: repeat(6, 1fr);}
      .cell{min-height:42px; font-size:15px}
      .letters{font-size:16px}
      .answers{font-size:15px}
    }
  </style>
</head>
<body>
  <header>
    <h1 class="brand"><span class="blade">ğ–¤</span>|ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ â€” Ù„Ø¹Ø¨Ø© ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h1>
    <p>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø±Ø¨Ø¹ (Ø±Ù‚Ù… Ø£Ùˆ Ø¥ÙŠÙ…ÙˆØ¬ÙŠ) Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ù…Ø®Ø²Ù‘Ù†. ÙŠÙØ¹Ø§Ø¯ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©.</p>
  </header>

  <div class="container">
    <div class="toolbar">
      <button id="shuffleBtn" class="secondary" title="Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø©">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¢Ù†</button>
      <button id="reloadBtn" class="secondary" title="ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©">ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©</button>
      <span class="note">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª: 107 â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØªÙ„ØªØ²Ù… Ø¨Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ø§.</span>
    </div>

    <div id="grid" class="grid" aria-label="Ø´Ø¨ÙƒØ© Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©"></div>

    <div id="panel" class="panel hidden" aria-live="polite">
      <header>
        <h2 id="panelTitle">Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±</h2>
      </header>
      <div class="content">
        <div class="letters" id="lettersBox"></div>
        <div class="list" id="itemsList"></div>
      </div>
      <div class="actions">
        <button id="copyBtn" class="copy">Ù†Ø³Ø® Ø§Ù„Ù…Ø«Ø§Ù„ (Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø§Øª)</button>
        <button id="closeBtn">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div class="footer-note">
        ÙŠØªÙ… Ù†Ø³Ø® Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø«Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø© Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø¥Ø¬Ø§Ø¨Ø§ØªØŒ Ù„Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©.
      </div>
    </div>
  </div>

  <script>
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // Ù‚ÙˆØ§Ø¦Ù… Ù…Ø±Ø¬Ø¹ÙŠØ© Ø¹Ø±Ø¨ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø©
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    const AR = {
      countries: [
        "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†","Ù„Ø¨Ù†Ø§Ù†","Ø§Ù„ÙŠÙ…Ù†","Ø³ÙˆØ±ÙŠØ§","Ø§Ù„Ø£Ø±Ø¯Ù†","Ø¹ÙÙ…Ø§Ù†","Ø¥ÙŠØ±Ø§Ù†","Ù…ØµØ±",
        "Ù„ÙŠØ¨ÙŠØ§","ØªÙˆÙ†Ø³","Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","Ø§Ù„Ù…ØºØ±Ø¨","Ø§Ù„Ø¹Ø±Ø§Ù‚","Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†","Ø§Ù„ÙƒÙˆÙŠØª","Ù‚Ø·Ø±","ØªØ±ÙƒÙŠØ§","Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§","ÙÙ„Ø³Ø·ÙŠÙ†"
      ],
      capitals: [
        "Ø±ÙˆÙ…Ø§","Ø¨ÙŠØ±ÙˆØª","ØµÙ†Ø¹Ø§Ø¡","Ø¯Ù…Ø´Ù‚","Ø¹Ù…Ø§Ù†","Ø§Ù„Ø¯ÙˆØ­Ø©","Ø§Ù„Ù…Ù†Ø§Ù…Ø©","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©",
        "Ø¨ØºØ¯Ø§Ø¯","Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","ØªÙˆÙ†Ø³","Ù†ÙˆØ§ÙƒØ´ÙˆØ·","Ø·Ø±Ø§Ø¨Ù„Ø³","Ø£Ù†Ù‚Ø±Ø©","Ø§Ù„Ø±Ø¨Ø§Ø·","Ø§Ù„ÙƒÙˆÙŠØª"
      ],
      fruits: [
        "Ø±Ù…Ø§Ù†","Ù„ÙŠÙ…ÙˆÙ†","ØªÙØ§Ø­","Ù…ÙˆØ²","Ø¹Ù†Ø¨","ØªÙŠÙ†","ØªÙ…Ø±","Ù…Ø§Ù†Ø¬Ùˆ","Ø¨Ø·ÙŠØ®","Ø®ÙˆØ®","ÙƒÙ…Ø«Ø±Ù‰","ÙƒÙŠÙˆÙŠ","ÙØ±Ø§ÙˆÙ„Ø©"
      ],
      vegetables: [
        "Ø¨ØµÙ„","Ø¬Ø²Ø±","Ø®ÙŠØ§Ø±","ÙƒÙˆØ³Ø©","ÙÙ„ÙÙ„","Ø·Ù…Ø§Ø·Ù…","Ø¨Ø·Ø§Ø·Ø³","Ø¨Ø§Ù…ÙŠØ§","Ù„ÙˆØ¨ÙŠØ§","Ù†Ø¹Ù†Ø§Ø¹","Ù…Ù„ÙˆØ®ÙŠØ©","Ù‚Ø±Ù†Ø¨ÙŠØ·","ÙƒØ±ÙØ³","Ø³Ø¨Ø§Ù†Ø®"
      ],
      male: [
        "Ø±Ø§Ù…ÙŠ","Ø³Ø§Ù…ÙŠ","ÙˆÙ„ÙŠØ¯","Ø¨Ø§Ø³Ù„","Ù†ÙˆØ±","Ù†Ø§ØµØ±","Ø¹Ù…Ø§Ø¯","Ø£Ù…ÙŠÙ†","Ø³Ù„ÙŠÙ…","Ù…Ø±Ø§Ø¯","Ø£Ù†ÙˆØ±","Ù…Ø§Ø²Ù†","Ø±Ø§Ø¦Ø¯","Ù„ÙŠØ«","Ù…Ù†ÙŠØ±","Ù†Ø§Ø¯Ø±"
      ],
      female: [
        "Ù„ÙŠÙ†Ø§","Ù†ÙˆØ§Ù„","Ø³Ù…Ø±","Ø±Ù†Ø§","Ù…Ø±ÙˆÙ‰","Ù…Ù†Ù‰","Ø±Ù†Ø¯Ø§","Ù†ÙˆØ±Ø§","Ù„ÙŠØ§Ù†","Ø±ÙŠÙ…","Ø³Ù„ÙˆÙ‰","Ø¢Ù…Ø§Ù„","Ù…Ù†Ø§Ø±","Ø³Ù†Ø§Ø¡","Ù†Ø§Ø¯ÙŠØ©","Ù…Ø±ÙŠÙ…"
      ],
      objects: [
        "Ø¨Ø§Ø¨","Ù‚Ù„Ù…","ÙƒØªØ§Ø¨","Ø³ÙŠÙ","ÙƒØ±Ø³ÙŠ","Ù‡Ø§ØªÙ","Ù…ÙØªØ§Ø­","Ù…ØµØ¨Ø§Ø­","Ù…Ù†Ø¯ÙŠÙ„","ÙƒÙˆØ¨","Ø·Ø¨Ù‚","Ø³Ø§Ø¹Ø©","Ù…Ø±Ø¢Ø©","Ø­Ø§Ø³ÙˆØ¨","Ø³ÙŠØ§Ø±Ø©","Ù„ÙˆØ­","Ø¬Ø±Ø³","Ù…ØºÙ†Ø§Ø·ÙŠØ³"
      ],
      animals: [
        "Ø£Ø³Ø¯","Ø£Ø±Ù†Ø¨","Ø¨ÙˆÙ…Ø©","Ù‚Ø·","ÙƒÙ„Ø¨","Ù†Ù…Ø±","Ø­ØµØ§Ù†","Ø¬Ù…Ù„","ØºØ²Ø§Ù„","ÙÙ‡Ø¯","Ø«ÙˆØ±","Ø¨Ù‚Ø±Ø©","Ø¯ÙŠÙƒ","Ø¨Ø·Ø©","Ø­Ù…Ø§Ù…Ø©","Ø³Ù…ÙƒØ©","Ø¶ÙØ¯Ø¹","Ø«Ø¹Ù„Ø¨","ÙˆØ²Ø©","ØºØ²Ø§Ù„"
      ],
      arabicLetters: Array.from("Ø§Ø¨ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠØ©Ø¡")
    };

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    const uniqueLettersFrom = (words) => {
      const set = new Set();
      words.join("").split("").forEach(ch => {
        if (AR.arabicLetters.includes(ch)) set.add(ch);
      });
      return Array.from(set);
    };

    const pick = (arr, n=1) => {
      const copy = [...arr];
      const out = [];
      for (let i=0; i<n && copy.length; i++){
        const idx = Math.floor(Math.random() * copy.length);
        out.push(copy.splice(idx,1)[0]);
      }
      return out;
    };

    const canBuild = (word, letters) => {
      // Ù†ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆÙØ± ÙƒÙ„ Ø­Ø±Ù Ù…Ù† ÙƒÙ„Ù…Ø© Ø¶Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø­Ø±ÙˆÙ (ØªÙƒØ±Ø§Ø± Ø§Ù„Ø­Ø±Ù Ù„Ø§ ÙŠÙ„Ø²Ù…ØŒ Ù„Ø£Ù†Ù‡Ø§ Ù…Ù† Ø­Ø±ÙˆÙ Ù…ØªØ§Ø­Ø© ÙØ­Ø³Ø¨)
      return word.split("").every(ch => letters.includes(ch));
    };

    const ensureBuildList = (list, letters) => list.filter(w => canBuild(w, letters));

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // ØªÙˆÙ„ÙŠØ¯ Ù…Ø«Ø§Ù„ ÙˆØ§Ø­Ø¯ Ø¯Ù‚ÙŠÙ‚
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    function generateExample(){
      const countries = pick(AR.countries, Math.random() < 0.7 ? 2 : 1);
      const fruits    = pick(AR.fruits,    Math.random() < 0.8 ? 2 : 1);
      const vegs      = pick(AR.vegetables,Math.random() < 0.8 ? 2 : 1);
      const males     = pick(AR.male,      Math.random() < 0.8 ? 2 : 1);
      const females   = pick(AR.female,    Math.random() < 0.8 ? 2 : 1);
      const objects   = pick(AR.objects,   Math.random() < 0.8 ? 2 : 1);
      const animals   = pick(AR.animals,   Math.random() < 0.8 ? 2 : 1);

      // Ø§Ù„Ø­Ø±ÙˆÙ = Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
      let letters = uniqueLettersFrom([
        ...countries, ...fruits, ...vegs, ...males, ...females, ...objects, ...animals
      ]);

      // Ø§Ø¶Ø¨Ø· Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø¨ÙŠÙ† 8 Ùˆ 12
      if (letters.length > 12){
        letters = pick(letters, 12);
      } else if (letters.length < 8){
        const extra = pick(AR.arabicLetters.filter(l => !letters.includes(l)), 8 - letters.length);
        letters = [...letters, ...extra];
      }

      // ØªØ£ÙƒØ¯ Ø£Ù† ÙƒÙ„ ÙƒÙ„Ù…Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¨Ù†Ø§Ø¡ Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ‚Ù„ÙŠØµ
      const cOK = ensureBuildList(countries, letters);
      const fOK = ensureBuildList(fruits, letters);
      const vOK = ensureBuildList(vegs, letters);
      const mOK = ensureBuildList(males, letters);
      const feOK= ensureBuildList(females, letters);
      const oOK = ensureBuildList(objects, letters);
      const aOK = ensureBuildList(animals, letters);

      // Ø­Ø§ÙˆÙ„ ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ù†Ø§Ù‚Øµ Ø¥Ù† Ù„Ø²Ù…
      function refill(target, sourceList, wantTwo){
        const need = wantTwo ? 2 : 1;
        if (target.length >= need) return target;
        const options = sourceList.filter(w => canBuild(w, letters) && !target.includes(w));
        while (target.length < need && options.length){
          target.push(options.shift());
        }
        return target;
      }

      const finalCountries = refill(cOK, AR.countries, cOK.length===2);
      const finalFruits    = refill(fOK, AR.fruits, true);
      const finalVegs      = refill(vOK, AR.vegetables, true);
      const finalMales     = refill(mOK, AR.male, true);
      const finalFemales   = refill(feOK, AR.female, true);
      const finalObjects   = refill(oOK, AR.objects, true);
      const finalAnimals   = refill(aOK, AR.animals, true);

      // Ø§Ù„Ø¹ÙˆØ§ØµÙ…: Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ø¥Ù† ÙƒØ§Ù†Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¨Ù†Ø§Ø¡
      const capsOptions = AR.capitals.filter(w => canBuild(w, letters));
      const caps = capsOptions.length ? [capsOptions[Math.floor(Math.random()*capsOptions.length)]] : [];

      return {
        letters,
        categories: [
          { key: "countries", type: "Ø¯ÙˆÙ„Ø©", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¯ÙˆÙ„ØªØ§Ù†", answers: finalCountries.slice(0,2) },
          { key: "fruits",    type: "ÙØ§ÙƒÙ‡Ø©", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ÙØ§ÙƒÙ‡ØªØ§Ù†", answers: finalFruits.slice(0,2) },
          { key: "vegetables",type: "Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø±", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ù†ÙˆØ¹ÙŠÙ† Ø®Ø¶Ø§Ø±", answers: finalVegs.slice(0,2) },
          { key: "male",      type: "ÙˆÙ„Ø¯", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø£Ø³Ù…Ø§Ø¡ 2 Ø£ÙˆÙ„Ø§Ø¯", answers: finalMales.slice(0,2) },
          { key: "female",    type: "Ø¨Ù†Øª", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ 2 Ø£Ø³Ù…Ø§Ø¡ Ø¨Ù†Ø§Øª", answers: finalFemales.slice(0,2) },
          { key: "objects",   type: "Ø¬Ù…Ø§Ø¯", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ 2 Ø¬Ù…Ø§Ø¯", answers: finalObjects.slice(0,2) },
          { key: "animals",   type: "Ø­ÙŠÙˆØ§Ù†", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù…Ø§Ø¡ 2 Ø­ÙŠÙˆØ§Ù†Ø§Øª", answers: finalAnimals.slice(0,2) },
          { key: "capitals",  type: "Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©", titleTwo: "Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©", answers: caps.slice(0,1) }
        ]
      };
    }

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // ØªÙˆÙ„ÙŠØ¯ 107 Ù…Ø«Ø§Ù„Ù‹Ø§ Ù…Ø¹ ÙØ­Øµ Ø§Ù„Ø¯Ù‚Ø©
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    function generateExamples(count=107){
      const examples = [];
      let safety = 0;
      while (examples.length < count && safety < count*8){
        const ex = generateExample();
        // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø¹Ø¯Ø§ Ø§Ù„Ø¹Ø§ØµÙ…Ø©) Ù„Ø¯ÙŠÙ‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯
        const essentialOK = ex.categories.slice(0,7).every(cat => cat.answers.length >= 1);
        if (essentialOK){
          examples.push(ex);
        }
        safety++;
      }
      while (examples.length < count){
        examples.push(generateExample());
      }
      return examples;
    }

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // Ø´Ø¨ÙƒØ© 107 Ù…Ø±Ø¨Ù‘Ø¹Ù‹Ø§
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    const CELLS = [
      // 30 Ø£Ø±Ù‚Ø§Ù…
      ...Array.from({length:30}, (_,i)=>({label:String(i+1)})),
      // 20 Ø­ÙŠÙˆØ§Ù†Ø§Øª
...Array.from({length:20}, (_,i)=>({label:String(i+31)})),
      // 19 Ø±Ù…ÙˆØ²
...Array.from({length:19}, (_,i)=>({label:String(i+51)})),
      // 22 ÙÙˆØ§ÙƒÙ‡/Ø®Ø¶Ø§Ø±
...Array.from({length:22}, (_,i)=>({label:String(i+70)})),
      // 16 Ø£Ø¹Ù„Ø§Ù… Ø¯ÙˆÙ„
...Array.from({length:16}, (_,i)=>({label:String(i+92)}))
    ].slice(0,107);

    // Ø£Ù…Ø«Ù„Ø© 107 Ù…Ø¹ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    let EXAMPLES = generateExamples(107);
    let cellToExampleIndex = [];

    function shuffleMapping(){
      const indices = Array.from({length: EXAMPLES.length}, (_,i)=>i);
      for (let i = indices.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i+1));
        [indices[i], indices[j]] = [indices[j], indices[i]];
      }
      cellToExampleIndex = indices;
    }

    function renderGrid(){
      const grid = document.getElementById("grid");
      grid.innerHTML = "";
      CELLS.forEach((cell, idx)=>{
        const div = document.createElement("button");
        div.className = "cell";
        div.setAttribute("title","Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø«Ø§Ù„");
        div.innerHTML = cell.isEmoji ? `<span class="emoji">${cell.label}</span>` : cell.label;
        div.addEventListener("click", ()=> showExample(idx));
        grid.appendChild(div);
      });
    }

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    // Ù†Øµ Ù…Ù†Ø³ÙˆØ® Ø°ÙƒÙŠ Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    function promptText(type, count){
      // ØµÙŠØ§ØºØ© Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù…Ù„Ø§Ø­Ø¸ØªÙƒ:
      // 0: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… (â€¦)
      // 1: Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… (â€¦) ÙˆØ§Ø­Ø¯Ø©
      // 2: Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… (â€¦) Ø§Ø«Ù†ØªØ§Ù† Ø£Ùˆ ØµÙŠØ§ØºØ© Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¥Ù† Ø±ØºØ¨Øª
      const mapZero = {
        "Ø¯ÙˆÙ„Ø©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ø¯ÙˆÙ„Ø©",
        "ÙØ§ÙƒÙ‡Ø©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… ÙØ§ÙƒÙ‡Ø©",
        "Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø±":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø±",
        "ÙˆÙ„Ø¯":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… ÙˆÙ„Ø¯",
        "Ø¨Ù†Øª":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ø¨Ù†Øª",
        "Ø¬Ù…Ø§Ø¯":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ø¬Ù…Ø§Ø¯",
        "Ø­ÙŠÙˆØ§Ù†":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ø­ÙŠÙˆØ§Ù†",
        "Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©":"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©"
      };
      const mapOne = {
        "Ø¯ÙˆÙ„Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¯ÙˆÙ„Ø© ÙˆØ§Ø­Ø¯Ø©",
        "ÙØ§ÙƒÙ‡Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ÙØ§ÙƒÙ‡Ø© ÙˆØ§Ø­Ø¯Ø©",
        "Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø±":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø± ÙˆØ§Ø­Ø¯",
        "ÙˆÙ„Ø¯":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ÙˆÙ„Ø¯ ÙˆØ§Ø­Ø¯",
        "Ø¨Ù†Øª":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¨Ù†Øª ÙˆØ§Ø­Ø¯Ø©",
        "Ø¬Ù…Ø§Ø¯":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¬Ù…Ø§Ø¯ ÙˆØ§Ø­Ø¯",
        "Ø­ÙŠÙˆØ§Ù†":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø­ÙŠÙˆØ§Ù† ÙˆØ§Ø­Ø¯",
        "Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©"
      };
      const mapTwo = {
        "Ø¯ÙˆÙ„Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¯ÙˆÙ„ØªØ§Ù†",
        "ÙØ§ÙƒÙ‡Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ÙØ§ÙƒÙ‡ØªØ§Ù†",
        "Ù†ÙˆØ¹ Ø®Ø¶Ø§Ø±":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ù†ÙˆØ¹ÙŠÙ† Ø®Ø¶Ø§Ø±",
        "ÙˆÙ„Ø¯":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù…ÙŠ ÙˆÙ„Ø¯ÙŠÙ†",
        "Ø¨Ù†Øª":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù…ÙŠ Ø¨Ù†ØªÙŠÙ†",
        "Ø¬Ù…Ø§Ø¯":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù…ÙŠÙ† Ø¬Ù…Ø§Ø¯",
        "Ø­ÙŠÙˆØ§Ù†":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù…ÙŠÙ† Ø­ÙŠÙˆØ§Ù†Ø§Øª",
        "Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©":"Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… Ø¹Ø§ØµÙ…Ø© Ø¯ÙˆÙ„Ø©"
      };
      if (count === 0) return mapZero[type] || `Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„Ø§Ø³Ù… ${type}`;
      if (count === 1) return mapOne[type] || `Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ${type} ÙˆØ§Ø­Ø¯Ø©`;
      if (count === 2) return mapTwo[type] || `Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ø³Ù… ${type} Ø§Ø«Ù†ØªØ§Ù†`;
      // Ø­Ø§Ù„Ø§Øª Ù†Ø§Ø¯Ø±Ø© (>2)
      return `Ø§Ø³ØªØ®Ø±Ø¬ ${count} ${type}`;
    }

    function showExample(cellIndex){
      const exampleIndex = cellToExampleIndex[cellIndex];
      const ex = EXAMPLES[exampleIndex];
      const panel = document.getElementById("panel");
      const lettersBox = document.getElementById("lettersBox");
      const itemsList = document.getElementById("itemsList");

      lettersBox.innerHTML = `<b>Ø§Ù„Ø­Ø±ÙˆÙ:</b> [ ${ex.letters.join("ØŒ ")} ]`;
      itemsList.innerHTML = "";

      ex.categories.forEach(cat=>{
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©: Ù„Ø§ Ù†Ø¹Ø±Ø¶ ÙØ¦Ø© Ø§Ù„Ø¹Ø§ØµÙ…Ø© Ø¥Ù† ÙƒØ§Ù†Øª Ø¨Ù„Ø§ Ø¥Ø¬Ø§Ø¨Ø©
        if (cat.key === "capitals" && cat.answers.length === 0) return;
        const item = document.createElement("div");
        item.className = "item";
        const h3 = document.createElement("h3");
        h3.textContent = promptText(cat.type, cat.answers.length);
        const p = document.createElement("div");
        p.className = "answers";
        p.innerHTML = cat.answers.length ? cat.answers.join(" - ") : `<span class="ok">â€”</span>`;
        item.appendChild(h3);
        item.appendChild(p);
        itemsList.appendChild(item);
      });

      // Ø²Ø± Ø§Ù„Ù†Ø³Ø® (Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø§Øª) Ù…Ø¹ ØµÙŠØ§ØºØ© Ø¯Ù‚ÙŠÙ‚Ø©
      const copyBtn = document.getElementById("copyBtn");
      copyBtn.onclick = ()=>{
        const lines = [];
        lines.push("Ø£Ù„Ø¹Ø§Ø¨ - ğ–¤|ğ‘ğ„ğƒğ’ğ–ğğ‘ğƒ");
        lines.push("Ù„Ø¹Ø¨Ø© ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª.");
        lines.push("----------------------");
        lines.push("Ø§Ù„Ø­Ø±ÙˆÙ : ");
        lines.push("[ " + ex.letters.join("ØŒ ") + " ]");
        ex.categories.forEach(cat=>{
          // ÙÙŠ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³ÙˆØ®: Ù†ÙƒØªØ¨ Ø¬Ù…Ù„Ø© Ø¨Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
          const line = promptText(cat.type, cat.answers.length);
          // Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ø§ØµÙ…Ø©: ØªÙØ¯Ø±Ø¬ ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† count>=1 (ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª: "ÙŠØ·Ù„Ø¨Ù‡Ø§ ÙÙ‚Ø· Ø¥Ù† ÙˆØ¬Ø¯")
          if (cat.key === "capitals" && cat.answers.length === 0) return;
          lines.push(line);
        });
        lines.push("______________");
        const text = lines.join("\n");
        navigator.clipboard.writeText(text).then(()=>{
          copyBtn.textContent = "ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…";
          setTimeout(()=> copyBtn.textContent = "Ù†Ø³Ø® Ø§Ù„Ù…Ø«Ø§Ù„ (Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø§Øª)", 1200);
        }).catch(()=>{
          alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø³Ø®. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…ØªØµÙØ­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ø§ÙØ¸Ø©.");
        });
      };

      document.getElementById("panelTitle").textContent = "Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±";
      panel.classList.remove("hidden");

      document.getElementById("closeBtn").onclick = ()=>{
        panel.classList.add("hidden");
      };
    }

    // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø¯ÙˆØ§Øª
    document.getElementById("shuffleBtn").onclick = ()=>{
      shuffleMapping();
      document.getElementById("shuffleBtn").textContent = "Ø£ÙØ¹ÙŠØ¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹ âœ…";
      setTimeout(()=> document.getElementById("shuffleBtn").textContent = "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¢Ù†", 1200);
    };
    document.getElementById("reloadBtn").onclick = ()=>{
      location.reload();
    };

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    function init(){
      renderGrid();
      shuffleMapping();
    }
    init();

    // Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©ØŒ ØªÙØ¹Ø§Ø¯ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ù…Ø«Ù„Ø© ÙˆØªÙˆØ²ÙŠØ¹Ù‡Ø§ Ø¹Ø´ÙˆØ§Ø¦ÙŠÙ‹Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ø¨Ø± Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.
  </script>
</body>
</html>
